<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.Propagator.Purify</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">rec-def-0.2.2: Recursively defined values</span><ul class="links" id="page-menu"><li><a href="src/Data.Propagator.Purify.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.Propagator.Purify</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides the <code><a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a></code> data type, which wraps a imperative propagator
 (for example <a href="Data-Propagator-Naive.html">Data.Propagator.Naive</a>) in a pure data structure.</p><p>It provides functions to declare the inputs to these propagators, which are unsafe on their own, but can be instantiated and wrapped to form safe APIs, e.g. <a href="Data-Recursive-Bool.html">Data.Recursive.Bool</a>.</p><p>This module is labeled as Internal because its safety depends on the behaviour of the
 underlying propagator implementation. The assumptions is that</p><ul><li>The defining function passed to <code><a href="Data-Propagator-Purify.html#v:def1" title="Data.Propagator.Purify">def1</a></code> etc. declare a functional relation
   between the input propagators and the output propagator.</li><li>Defining functions do not (observably) affect their input propagators.</li><li>Once all the functions passed to <code><a href="Data-Propagator-Purify.html#v:def1" title="Data.Propagator.Purify">def1</a></code> of a propagator and its
   dependencies have run, <code><a href="Data-Propagator-Class.html#v:readProp" title="Data.Propagator.Class">readProp</a></code> will return a correct value, i.e. one
   that satisfies the functional relations.</li><li>The order in which the defining functions are executed does not affect the
   result.</li><li>Termination depends on the termination of the underlying propagator</li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Purify">Purify</a> p</li><li class="src short"><a href="#v:get">get</a> :: <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a =&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa -&gt; a</li><li class="src short"><a href="#v:mk">mk</a> :: <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> p a =&gt; a -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> p</li><li class="src short"><a href="#v:def1">def1</a> :: (<a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pb b) =&gt; (pa -&gt; pb -&gt; <a href="https://hackage.haskell.org/package/base-4.16.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pb</li><li class="src short"><a href="#v:def2">def2</a> :: (<a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pb b, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pc c) =&gt; (pa -&gt; pb -&gt; pc -&gt; <a href="https://hackage.haskell.org/package/base-4.16.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pb -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pc</li><li class="src short"><a href="#v:defList">defList</a> :: (<a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pb b) =&gt; ([pa] -&gt; pb -&gt; <a href="https://hackage.haskell.org/package/base-4.16.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; [<a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa] -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pb</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Purify" class="def">Purify</a> p <a href="src/Data.Propagator.Purify.html#Purify" class="link">Source</a> <a href="#t:Purify" class="selflink">#</a></p><div class="doc"><p>A value of type <code>Purify p</code> is a propagator <code>p</code>, gether with a (lazy)
 action to define it.</p><p>You can use <code><a href="Data-Propagator-Purify.html#v:get" title="Data.Propagator.Purify">get</a></code> to extract the value from the propagator.</p><p>Do not use the extracted value in the definition of that value, this will
 loop just like a recursive definition with plain values would!</p></div></div><div class="top"><p class="src"><a id="v:get" class="def">get</a> :: <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a =&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa -&gt; a <a href="src/Data.Propagator.Purify.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><div class="doc"><p>Extract the value from a <code>Purify a</code>. This must not be used when <em>defining</em> that value.</p></div></div><div class="top"><p class="src"><a id="v:mk" class="def">mk</a> :: <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> p a =&gt; a -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> p <a href="src/Data.Propagator.Purify.html#mk" class="link">Source</a> <a href="#v:mk" class="selflink">#</a></p><div class="doc"><p>Any value of type <code>a</code> is also a value of type <code>Purify p</code> if <code>p</code> is a propagator for <code>a</code>.</p></div></div><div class="top"><p class="src"><a id="v:def1" class="def">def1</a> :: (<a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pb b) =&gt; (pa -&gt; pb -&gt; <a href="https://hackage.haskell.org/package/base-4.16.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pb <a href="src/Data.Propagator.Purify.html#def1" class="link">Source</a> <a href="#v:def1" class="selflink">#</a></p><div class="doc"><p>Defines a value of type <code>Purify b</code> to be a function of the values of <code>Purify a</code>.</p><p>The action passed should declare that relation to the underlying propagator.</p><p>The <code>Prop a</code> propagator must only be used for reading values <em>from</em>.</p></div></div><div class="top"><p class="src"><a id="v:def2" class="def">def2</a> :: (<a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pb b, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pc c) =&gt; (pa -&gt; pb -&gt; pc -&gt; <a href="https://hackage.haskell.org/package/base-4.16.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pb -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pc <a href="src/Data.Propagator.Purify.html#def2" class="link">Source</a> <a href="#v:def2" class="selflink">#</a></p><div class="doc"><p>Defines a value of type <code>Purify c</code> to be a function of the values of <code>Purify a</code> and <code>Purify b</code>.</p><p>The action passed should declare that relation to the underlying propagator.</p><p>The <code>Prop a</code> and <code>Prop b</code> propagators must only be used for reading values <em>from</em>.</p></div></div><div class="top"><p class="src"><a id="v:defList" class="def">defList</a> :: (<a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pa a, <a href="Data-Propagator-Class.html#t:Propagator" title="Data.Propagator.Class">Propagator</a> pb b) =&gt; ([pa] -&gt; pb -&gt; <a href="https://hackage.haskell.org/package/base-4.16.1.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> ()) -&gt; [<a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pa] -&gt; <a href="Data-Propagator-Purify.html#t:Purify" title="Data.Propagator.Purify">Purify</a> pb <a href="src/Data.Propagator.Purify.html#defList" class="link">Source</a> <a href="#v:defList" class="selflink">#</a></p><div class="doc"><p>Defines a value of type <code>Purify b</code> to be a function of the values of a list of <code>Purify a</code> values.</p><p>The action passed should declare that relation to the underlying propagator.</p><p>The <code>Prop a</code> propagators must only be used for reading values <em>from</em>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>